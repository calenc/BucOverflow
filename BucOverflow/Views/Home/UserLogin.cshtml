<link rel="stylesheet" href="css/bootstrap.min.css">
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.min.js"></script>

@{
	if (ViewBag.firstLogin == true)
	{
		<script>
			$(document).ready(function () 
			{
				$("#userModal").modal('show');
			});
		</script>
	}

}

<!--Gives a welcome/instruction message to the user when they first visit this page. This is based on cookies.-->
<div id="userModal" class="modal" tabindex="-1" role="dialog">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header text-center">
				<h5 class="modal-title w-100"><strong>LOGIN INFORMATION</strong></h5>
			</div>
			<div class="modal-body" style="text-align:center">
				<p>
					In order to login, please enter your ETSU email address in the designated field. If you are a new user, a verification email will be sent to the 
					email address you provide. Please make sure to check your email inbox (and spam folder, just in case) for the verification email. 
					Once you receive it, please follow the instructions provided in the email to complete the verification process and gain access to our platform.
				</p>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>






<!--Email form that will capture a users email to login -->
<body>
	<center> <h1> User Login Form </h1> <br /> </center>
	<div class="grid">
		<form action="@Url.Action("NewUser", "Home") method="post" class="form login">
			<div class="form__field">
				<label >Email</label>
				<input id="login__username" type="text" name="Email" class="form__input" placeholder="Email" required>
			</div>
			<div class="form__field">
				<input id = "submit" type="submit" value="Sign In">
			</div>
		</form>
	</div>
</body>

<!--Check to make sure the form field is not left null-->
<script>
	$(document).ready(function () {
		$('form').submit(function () {
			var userEmail = $('input[name="username"]').val();			
			if ($.trim(userEmail) === '')  {
				alert('You must input a valid email.');
				return false;
			}
		});
	});
</script>

<!--Style CSS to make page look pretty-->
<style>

	.grid {
		margin-left: auto;
		margin-right: auto;
		max-width: 320px;
		max-width: 20rem;
		width: 90%;
	}

	/* helpers/hidden.css */

	.hidden {
		border: 0;
		clip: rect(0 0 0 0);
		height: 1px;
		margin: -1px;
		overflow: hidden;
		padding: 0;
		position: absolute;
		width: 1px;
	}

	/* helpers/icon.css */

	.icons {
		display: none;
	}

	.icon {
		display: inline-block;
		fill: #606468;
		font-size: 16px;
		font-size: 1rem;
		height: 1em;
		vertical-align: middle;
		width: 1em;
	}

	body {
		color: #606468;
		font-size: 14px;
		font-size: 0.875rem;
		font-weight: 400;
		height: 100%;
		line-height: 1.5;
		margin: 0;
		min-height: 100vh;
	}



	/* modules/form.css */

	input {
		background-image: none;
		border: 0;
		color: inherit;
		font: inherit;
		margin: 0;
		outline: 0;
		padding: 0;
		-webkit-transition: background-color 0.3s;
		transition: background-color 0.3s;
	}

		input[type='submit'] {
			cursor: pointer;
		}

	.form {
		margin: -14px;
		margin: -0.875rem;
	}

		.form input[type='password'],
		.form input[type='text'],
		.form input[type='submit'] {
			width: 100%;
		}

	.form__field {
		display: -webkit-box;
		display: -ms-flexbox;
		display: flex;
		margin: 14px;
		margin: 0.875rem;
	}

	.form__input {
		-webkit-box-flex: 1;
		-ms-flex: 1;
		flex: 1;
	}

	/* modules/login.css */

	.login {
		color: #eee;
	}

		.login label,
		.login input[type='text'],
		.login input[type='password'],
		.login input[type='submit'] {
			border-radius: 0.25rem;
			padding: 16px;
			padding: 1rem;
		}

		.login label {
			background-color: #363b41;
			border-bottom-right-radius: 0;
			border-top-right-radius: 0;
			padding-left: 20px;
			padding-left: 1.25rem;
			padding-right: 20px;
			padding-right: 1.25rem;
		}

		.login input[type='password'],
		.login input[type='text'] {
			background-color: #434a52;
			border-bottom-left-radius: 0;
			border-top-left-radius: 0;
		}

			.login input[type='password']:focus,
			.login input[type='password']:hover,
			.login input[type='text']:focus,
			.login input[type='text']:hover {
				background-color: #434a52;
			}

		.login input[type='submit'] {
			background-color: #041E42;
			color: #eee;
			font-weight: 700;
			text-transform: uppercase;
		}

			.login input[type='submit']:focus,
			.login input[type='submit']:hover {
				background-color: #041E42;
			}

	/* modules/text.css */

	p {
		margin-bottom: 24px;
		margin-bottom: 1.5rem;
		margin-top: 24px;
		margin-top: 1.5rem;
	}

	.text--center {
		text-align: center;
	}
</style>